+++ порядковые номера карточке, если тема


+++
Реализовать добавление изображений в карточку


+++
Предметная область переименовывается в Группу. Группы могут быть вложенные. При этом они остаются самостоятельными.
В группе могут быть карточки. В группу можно добавить материал. Другую группу или материал внутрь материала вложить нельзя.









===





!!!
В профиль темы добавить галочку "только освежить" = готово
Добавить галочку в конструктор. если true - сортировать вопросы компаратором темы. - готово
не записывать результаты экзамена в этом случае.


+++ запоминать даты ответов на вопросы и иметь возможность вывести список вопросов, на которые были даны неверные ответы, для повторного ответа. Режим работы над ошибками



+++ 
в Question добавить дату регистрации (regDate), дату обновления (updateDate)

выводить информацию в форме редактирования карточки

обновлять updateDate при сохранении карточки

+++

в ThemeQuestion добавить атрибут orderNum - готово

в список всех вопросов прокидывать realmId (если вопросы с области) и themeId (если вопросы с темы)

редактирование карточки запускать с передачей themeId,realmId

сделать редактируемое поле "Порядковый номер в теме такой-то" в форме редактирования карточки, видимое только если карточка редактируется с параметром themeId
в поле выводить порядковый номер в списке карточек темы (сделать на карточке метод getOrderNum(Theme))

- хранить на объекте вопроса сет с линками
- регистрировать линки
- разрегистрировать линки
- по теме получать вопросы
- с вопросов брать линки по той же теме
- с линков брать порядковые номера






данный метод должен выводить порядковый номер. основания сортировки списка - orderNum в ThemeQuestion, либо regDate, либо id
если порядковый номер поменялся - последовательно проставить orderNum всем вопросам в теме (сущностям ThemeQuestion), чтобы получилась нумерация подряд. - готово

сделать метод getThemeComparator(Theme) - готово

!!! 
- сделать умную замену orderNum - если вопросу проставлено "4", он должен реально стать 4-ым.
сейчас он просто переместится вплотную к 4-му - готово
- сделать сохранение в БД - готово
- сделать сортировку списка вопросов по теме - по компаратору темы - готово
- если подвязка вопроса к новой теме - ставить в конец списка - готово
- при исключении темы из вопроса - теряется порядковый номер в той теме, которая не исключалась (очевидно, из-за того, что она перепривязывается) - готово

- проверить регистрацию/дерегистрацию/подкачку изменений из БД:
не сохраняются порядковые номера после повторного вкатывания скрипта с измененными данными - готово

- при возвращении к редактированию теряется порядковый номер - ничего страшного